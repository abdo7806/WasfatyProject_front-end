<!DOCTYPE html>
<html lang="ar">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>إضافة مستخدم جديد</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

</head>

<body>
    <div class="container">

        <div class="alert" id="error-message" style="display: none;" role="alert"></div>

        <h2>إضافة مستخدم جديد</h2>
        <form id="addUserForm">
            <div class="form-group">
                <label for="fullName">الاسم بالكامل:</label>
                <input type="text" id="fullName" class="form-control" placeholder="الاسم الكامل" />
                <div id="fullNameError" class="text-danger"></div>
            </div>
            <div class="form-group">
                <label for="email">البريد الإلكتروني:</label>
                <input type="email" id="email" class="form-control" placeholder="البريد الإلكتروني" />
                <div id="emailError" class="text-danger"></div>
            </div>

            <div class="form-group">
                <label class="form-label">كلمة المرور</label>
                <input type="password" id="password" class="form-control" placeholder="كلمة المرور" />
                <div id="passwordError" class="text-danger"></div>
            </div>

            <div class="form-group">
                <label class="form-label">تأكيد كلمة المرور</label>
                <input type="password" id="confirmPassword" class="form-control" placeholder="تأكيد كلمة المرور" />
                <div id="confirmPasswordError" class="text-danger"></div>
            </div>

            <div class="form-group mb-3">
                <label class="form-label">اختر الدور</label>
                <select class="form-control" id="role">
									<option selected disabled>اختر الدور</option>
									<option value="3">مريض</option>
									<option value="2">طبيب</option>
									<option value="4">صيدلي</option>
									<option value="1">مدير</option>
							</select>
                <div id="roleError" class="text-danger"></div>
            </div>

            <button type="button" class="btn btn-primary" onclick="addUser()">إنشاء حساب</button>
            <a href="User.html" class="btn btn-secondary">رجوع</a>
        </form>
    </div>
    </div>

        <script src="../../js/checkAccess.js"></script>

    <script src="../../js/admin/user/user.js"></script>

    <!-- Custom Scripts -->
    <script>
        checkAccess(['Admin'], '../../../shared/unauthorized.html');

        function validateForm() {
            const fullName = document.getElementById('fullName').value;
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            const role = document.getElementById('role').value;
            const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/; // إعادة تعيين رسائل الخطأ document.getElementById('fullNameError').textContent = ''; document.getElementById('emailError').textContent = '';
            document.getElementById('passwordError').textContent = '';
            document.getElementById('confirmPasswordError').textContent = '';
            document.getElementById('roleError').textContent = '';
            let isValid = true;
            if (!fullName) {
                document.getElementById('fullNameError').textContent = 'الاسم الكامل مطلوب!';
                isValid = false;
            }
            if (!email) {
                document.getElementById('emailError').textContent = 'البريد الإلكتروني مطلوب!';
                isValid = false;
            }
            if (!password) {
                document.getElementById('passwordError').textContent = 'كلمة المرور مطلوبة!';
                isValid = false;
            }
            if (password !== confirmPassword) {
                document.getElementById('confirmPasswordError').textContent = 'كلمات المرور غير متطابقة!';
                isValid = false;
            }
            if (!role) {
                document.getElementById('roleError').textContent = 'يجب اختيار دور!';
                isValid = false;
            }
            if (!emailPattern.test(email)) {
                document.getElementById('emailError').textContent = 'يرجى إدخال بريد إلكتروني صحيح.';
                isValid = false;
            }
            return isValid;
        }
    </script>
</body>

</html>
