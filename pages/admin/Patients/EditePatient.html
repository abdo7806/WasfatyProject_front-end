<!DOCTYPE html>
<html lang="ar">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>تعديل بيانات المريض</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
</head>

<body>
    <div class="container">
        <div class="alert alert-danger" id="error-message" style="display: none;" role="alert"></div>

        <h2 class="my-4">تعديل بيانات المريض</h2>
        <form id="editPatientForm">
            <div class="form-group">
                <label for="fullName">الاسم بالكامل:</label>
                <input type="text" id="fullName" class="form-control" />
            </div>

            <div class="form-group">
                <label for="email">البريد الإلكتروني:</label>
                <input type="email" id="email" class="form-control" />
            </div>



            <div class="form-group">
                <label>تاريخ الميلاد:</label>
                <input type="date" id="DateOfBirth" class="form-control" />
            </div>

            <div class="form-group">
                <label for="gender">الجنس:</label>
                <select class="form-control" id="gender">
                    <option value="M">ذكور</option>
                    <option value="F">إناث</option>
                </select>
            </div>

            <div class="form-group">
                <label for="bloodType">فصيلة الدم:</label>
                <select class="form-control" id="bloodType">
                    <option value="A+">A+</option>
                    <option value="A-">A-</option>
                    <option value="B+">B+</option>
                    <option value="B-">B-</option>
                    <option value="AB+">AB+</option>
                    <option value="AB-">AB-</option>
                    <option value="O+">O+</option>
                    <option value="O-">O-</option>
                </select>
            </div>

            <button type="button" class="btn btn-primary" onclick="updatePatient()">حفظ التعديلات</button>
            <a href="Patient.html" class="btn btn-secondary">رجوع</a>
        </form>
    </div>




   
    <script src="../../js/admin/Patients/Patients.js"></script>

    <script src="../../js/checkAccess.js"></script>

    <!-- Custom Scripts -->
    <script>
        checkAccess(['Admin'], '../../../shared/unauthorized.html');

        function showError(message) {
            const errorElement = document.getElementById('error-message');
            errorElement.style.display = "block";
            errorElement.textContent = message;
        }

        $(document).ready(function() {
            const urlParams = new URLSearchParams(window.location.search);
            const patientId = urlParams.get('id');

            if (patientId) {
                loadUserData(patientId);
            } else {
                showError('معرف المستخدم غير موجود في عنوان URL.');
            }
        });
    </script>
</body>

</html>
